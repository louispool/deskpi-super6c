# Namespace definition for the Linkerd Control Plane.
#
# Since we are manually creating the namespace we need to duplicate the annotations mentioned here:
# https://github.com/linkerd/linkerd2/blob/main/charts/linkerd-control-plane/templates/namespace.yaml
---
kind: Namespace
apiVersion: v1
metadata:
  name: {{ k3s_linkerd_namespace }}
  annotations:
    linkerd.io/inject: disabled
  labels:
    linkerd.io/is-control-plane: "true"
    config.linkerd.io/admission-webhooks: disabled
    linkerd.io/control-plane-ns: {{ k3s_linkerd_namespace }}
    pod-security.kubernetes.io/enforce: "privileged"